<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissor </title>
</head>
<body style="background-color: white">

    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissor">Scissor</button>
    <div id="results">Play a game</div>
    <div>User points:</div>
    <div id="userCounter">0</div>
    
    <div>Computer points:</div>
    <div id="computerCounter">0</div>


    
  
  <script>
    let userCounter = 0;
    let computerCounter = 0;
    // Get computer choice by random
   function getComputerChoice() {
    let number = Math.floor(Math.random() * 3);
   //console.log(number)
    switch (number) {
        case 0: 
            return "rock";
            break;
        case 1: 
            return "paper";
            break;
        case 2: 
            return "scissor";
            break;
    }
    
   }

   function playerSelection(selection) {
    console.log(selection);
   }

   // Play a single round

   // Get user input 
   function getUserChoice() {
    let userInput = prompt("What is your decision?");
    return userInput;
   }
   
   // Compare answers and declare the winner
   // user = rock and computer = rock - draw
   // user = rock and computer = scissor - win
   // user = rock and computer = paper - lose
   // user = paper and computer = paper - draw
   // user = paper and computer = scissor - lose
   // user = paper and computer = rock - win
   // user = scissor and computer = scissor - draw
   // user = scissor and computer = rock - lose
   // user = scissor and computer = paper - win
   function compareAnswers(userIn, computerIn) {
    let userInLower = userIn.toLowerCase();
    let computerInLower = computerIn.toLowerCase();
    if ((userInLower == "rock" &&  computerInLower == "rock")
    || (userInLower == "paper" &&  computerInLower == "paper") 
    || (userInLower == "scissor" &&  computerInLower == "scissor") 
    ) {
        return "draw";
    } else if ((userInLower == "rock" &&  computerInLower == "scissor")
    || (userInLower == "paper" &&  computerInLower == "rock") 
    || (userInLower == "scissor" &&  computerInLower == "paper")
    ) {
        userCounter += 1;
        return "user";
    } else {
        computerCounter += 1;
        return "computer";
    }
   }

   // play a game of 5 rounds and declare a winner
   /* function game() {
    let computerCounter = 0;
    let userCounter = 0;
    for (let i = 0; i < 5; i++) {
     let result = compareAnswers(getUserChoice(),getComputerChoice());
     if (result == "computer") {
        console.log("The winner is the computer");
        computerCounter += 1;
     } else if (result == "user") {
        console.log("The winner is the user");
        userCounter += 1;
     } else {
        console.log("It was a draw.")
     }
    }

    if (computerCounter > userCounter) {
        alert("The computer has won the game");
    } else if (computerCounter < userCounter) {
        alert("The user has won the game");
    } else {
        alert("It was a good draw");
    }
   } */

   //alert(compareAnswers(getUserChoice(),getComputerChoice()))
   function postResults(userIn, computerIn){
    //console.log(compareAnswers(userIn, computerIn));
    
    let resultText = compareAnswers(userIn, computerIn);
    const container = document.querySelector('#results');
     container.textContent = resultText;
    const userDiv = document.querySelector('#userCounter');
     userDiv.textContent = userCounter;
    const computerDiv = document.querySelector('#computerCounter');
     computerDiv.textContent = computerCounter;
     if (userCounter == 5) {
        container.textContent = "User has won the game";
        document.getElementById("rock").disabled = true;
        document.getElementById("paper").disabled = true;
        document.getElementById("scissor").disabled = true;
     } else if (computerCounter == 5) {
        container.textContent = "Computer has won the game";
        document.getElementById("rock").disabled = true;
        document.getElementById("paper").disabled = true;
        document.getElementById("scissor").disabled = true;
     }
    }
    

   /*const result = document.createElement('div');
    result.classList.add('result');
    result.textContent = resultText;

    container.appendChild(result);*/

    
   

   function playRound(){
    //computerChoice = ;
    const buttons = document.querySelectorAll('button');
    buttons.forEach((button) => {
        button.addEventListener('click', () => {
            postResults(button.id,getComputerChoice());
            //console.log(compareAnswers(button.id,computerChoice));
            
        });
    });
   }
   /*function game(){
    let computerCounter = 0;
    let userCounter = 0;
    do {
        playRound()
    }
    while (computerCounter < 5 || userCounter < 5) 
    }*/
    playRound()
   

  </script>
  
</body>
</html>

